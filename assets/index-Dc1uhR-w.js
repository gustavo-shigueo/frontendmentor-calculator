(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();const te=(e,t)=>e===t,q={equals:te};let H=J;const w=1,O=2,Y={owned:null,cleanups:null,context:null,owner:null};var b=null;let U=null,ne=null,d=null,y=null,v=null,B=0;function re(e,t){const n=d,r=b,l=e.length===0,i=t===void 0?r:t,o=l?Y:{owned:null,cleanups:null,context:i?i.context:null,owner:i},s=l?e:()=>e(()=>N(()=>M(o)));b=o,d=null;try{return T(s,!0)}finally{d=n,b=r}}function F(e,t){t=t?Object.assign({},q,t):q;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=l=>(typeof l=="function"&&(l=l(n.value)),K(n,l));return[ie.bind(n),r]}function _(e,t,n){const r=Q(e,t,!1,w);D(r)}function W(e,t,n){H=ue;const r=Q(e,t,!1,w);(!n||!n.render)&&(r.user=!0),v?v.push(r):D(r)}function N(e){if(d===null)return e();const t=d;d=null;try{return e()}finally{d=t}}function le(e){W(()=>N(e))}function ie(){if(this.sources&&this.state)if(this.state===w)D(this);else{const e=y;y=null,T(()=>x(this),!1),y=e}if(d){const e=this.observers?this.observers.length:0;d.sources?(d.sources.push(this),d.sourceSlots.push(e)):(d.sources=[this],d.sourceSlots=[e]),this.observers?(this.observers.push(d),this.observerSlots.push(d.sources.length-1)):(this.observers=[d],this.observerSlots=[d.sources.length-1])}return this.value}function K(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&T(()=>{for(let l=0;l<e.observers.length;l+=1){const i=e.observers[l],o=U&&U.running;o&&U.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?y.push(i):v.push(i),i.observers&&Z(i)),o||(i.state=w)}if(y.length>1e6)throw y=[],new Error},!1)),t}function D(e){if(!e.fn)return;M(e);const t=B;se(e,e.value,t)}function se(e,t,n){let r;const l=b,i=d;d=b=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=w,e.owned&&e.owned.forEach(M),e.owned=null),e.updatedAt=n+1,z(o)}finally{d=i,b=l}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?K(e,r):e.value=r,e.updatedAt=n)}function Q(e,t,n,r=w,l){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:b,context:b?b.context:null,pure:n};return b===null||b!==Y&&(b.owned?b.owned.push(i):b.owned=[i]),i}function P(e){if(e.state===0)return;if(e.state===O)return x(e);if(e.suspense&&N(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<B);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===w)D(e);else if(e.state===O){const r=y;y=null,T(()=>x(e,t[0]),!1),y=r}}function T(e,t){if(y)return e();let n=!1;t||(y=[]),v?n=!0:v=[],B++;try{const r=e();return oe(n),r}catch(r){n||(v=null),y=null,z(r)}}function oe(e){if(y&&(J(y),y=null),e)return;const t=v;v=null,t.length&&T(()=>H(t),!1)}function J(e){for(let t=0;t<e.length;t++)P(e[t])}function ue(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:P(r)}for(t=0;t<n;t++)P(e[t])}function x(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const l=r.state;l===w?r!==t&&(!r.updatedAt||r.updatedAt<B)&&P(r):l===O&&x(r,t)}}}function Z(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=O,n.pure?y.push(n):v.push(n),n.observers&&Z(n))}}function M(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const i=l.pop(),o=n.observerSlots.pop();r<l.length&&(i.sourceSlots[o]=r,l[r]=i,n.observerSlots[r]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)M(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ce(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function z(e,t=b){throw ce(e)}function h(e,t){return N(()=>e(t||{}))}function fe(e,t,n){let r=n.length,l=t.length,i=r,o=0,s=0,a=t[l-1].nextSibling,m=null;for(;o<l||s<i;){if(t[o]===n[s]){o++,s++;continue}for(;t[l-1]===n[i-1];)l--,i--;if(l===o){const u=i<r?s?n[s-1].nextSibling:n[i-s]:a;for(;s<i;)e.insertBefore(n[s++],u)}else if(i===s)for(;o<l;)(!m||!m.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[i-1]&&n[s]===t[l-1]){const u=t[--l].nextSibling;e.insertBefore(n[s++],t[o++].nextSibling),e.insertBefore(n[--i],u),t[l]=n[i]}else{if(!m){m=new Map;let f=s;for(;f<i;)m.set(n[f],f++)}const u=m.get(t[o]);if(u!=null)if(s<u&&u<i){let f=o,S=1,I;for(;++f<l&&f<i&&!((I=m.get(t[f]))==null||I!==u+S);)S++;if(S>u-s){const p=t[o];for(;s<u;)e.insertBefore(n[s++],p)}else e.replaceChild(n[s++],t[o++])}else o++;else t[o++].remove()}}}const G="_$DX_DELEGATE";function ae(e,t,n,r={}){let l;return re(i=>{l=i,t===document?e():c(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{l(),t.textContent=""}}function C(e,t,n){let r;const l=()=>{const o=document.createElement("template");return o.innerHTML=e,n?o.content.firstChild.firstChild:o.content.firstChild},i=t?()=>N(()=>document.importNode(r||(r=l()),!0)):()=>(r||(r=l())).cloneNode(!0);return i.cloneNode=i,i}function he(e,t=window.document){const n=t[G]||(t[G]=new Set);for(let r=0,l=e.length;r<l;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,pe))}}function E(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const l=n[0];e.addEventListener(t,n[0]=i=>l.call(e,n[1],i))}else e.addEventListener(t,n)}function c(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return L(e,t,r,n);_(l=>L(e,t(),l,n),r)}function pe(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?r.call(n,l,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function L(e,t,n,r,l){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),o){let s=n[0];s&&s.nodeType===3?s.data!==t&&(s.data=t):s=document.createTextNode(t),n=A(e,n,r,s)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||i==="boolean")n=A(e,n,r);else{if(i==="function")return _(()=>{let s=t();for(;typeof s=="function";)s=s();n=L(e,s,n,r)}),()=>n;if(Array.isArray(t)){const s=[],a=n&&Array.isArray(n);if(j(s,t,n,l))return _(()=>n=L(e,s,n,r,!0)),()=>n;if(s.length===0){if(n=A(e,n,r),o)return n}else a?n.length===0?X(e,s,r):fe(e,n,s):(n&&A(e),X(e,s));n=s}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=A(e,n,r,t);A(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function j(e,t,n,r){let l=!1;for(let i=0,o=t.length;i<o;i++){let s=t[i],a=n&&n[i],m;if(!(s==null||s===!0||s===!1))if((m=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))l=j(e,s,a)||l;else if(m==="function")if(r){for(;typeof s=="function";)s=s();l=j(e,Array.isArray(s)?s:[s],Array.isArray(a)?a:[a])||l}else e.push(s),l=!0;else{const u=String(s);a&&a.nodeType===3&&a.data===u?e.push(a):e.push(document.createTextNode(u))}}return l}function X(e,t,n=null){for(let r=0,l=t.length;r<l;r++)e.insertBefore(t[r],n)}function A(e,t,n,r){if(n===void 0)return e.textContent="";const l=r||document.createTextNode("");if(t.length){let i=!1;for(let o=t.length-1;o>=0;o--){const s=t[o];if(l!==s){const a=s.parentNode===e;!i&&!o?a?e.replaceChild(l,s):e.insertBefore(l,n):a&&s.remove()}else i=!0}}else e.insertBefore(l,n);return[l]}var de=C("<form class=theme-picker><h2>Theme</h2><label for=theme-1>1</label><label for=theme-2>2</label><label for=theme-3>3</label><div><input type=radio value=1 id=theme-1 name=theme><input type=radio value=2 id=theme-2 name=theme><input type=radio value=3 id=theme-3 name=theme>");function k(e){return window.matchMedia(e).matches}function ge(){return k("(prefers-color-scheme: dark)")?"1":k("(prefers-color-scheme: light)")?"2":k("(prefers-contrast: more)")?"3":k("(prefers-color-scheme: no-preference)")?"2":"1"}function me(){const[e,t]=F(localStorage.getItem("theme")??ge());return W(()=>localStorage.setItem("theme",e())),le(()=>{const n=localStorage.getItem("theme");if(n){t(n);return}}),(()=>{var n=de(),r=n.firstChild,l=r.nextSibling,i=l.nextSibling,o=i.nextSibling,s=o.nextSibling,a=s.firstChild,m=a.nextSibling,u=m.nextSibling;return a.addEventListener("change",f=>t(f.target.value)),m.addEventListener("change",f=>t(f.target.value)),u.addEventListener("change",f=>t(f.target.value)),_(()=>a.checked=e()==="1"),_(()=>m.checked=e()==="2"),_(()=>u.checked=e()==="3"),n})()}var V=C("<button type=button>"),ye=C("<button class=delete type=button>Del"),be=C("<button type=button>."),$e=C('<button class="delete span-2"type=button>Reset'),ve=C('<button class="equals span-2"type=button>=');function g(e){switch(e.type){case"number":return(()=>{var t=V();return E(t,"click",e.onClick,!0),c(t,()=>e.value),t})();case"operator":return(()=>{var t=V();return E(t,"click",e.onClick,!0),c(t,()=>e.operator),t})();case"delete":return(()=>{var t=ye();return E(t,"click",e.onClick,!0),t})();case"dot":return(()=>{var t=be();return E(t,"click",e.onClick,!0),t})();case"reset":return(()=>{var t=$e();return E(t,"click",e.onClick,!0),t})();case"equals":return(()=>{var t=ve();return E(t,"click",e.onClick,!0),t})()}}he(["click"]);function $(e){switch(e.type){case"NUMBER":return e.value;case"BINARY_EXPRESSION":switch(e.operator){case"EXPONETIATION":return $(e.left)**$(e.right);case"MULTIPLICATION":return $(e.left)*$(e.right);case"DIVISION":return $(e.left)/$(e.right);case"ADDITION":return $(e.left)+$(e.right);case"SUBTRACTION":return $(e.left)-$(e.right)}case"PARENTHESIS":return $(e.expression);case"NEGATION":return-$(e.expression)}}const Ce={x:2,"/":2,"+":1,"-":1},we={x:"MULTIPLICATION","/":"DIVISION","+":"ADDITION","-":"SUBTRACTION"};function R(e){const t=Se(e),n=e[t];switch(n){case"x":case"/":case"+":case"-":return{type:"BINARY_EXPRESSION",operator:we[n],left:R(e.substring(0,t)),right:R(e.substring(t+1))};default:return{type:"NUMBER",value:parseFloat(e.trim())}}}function Se(e){let t={index:1/0,priority:1/0};for(let n=0;n<e.length;n++){const r=e[n];if(r===" "||r===`
`||r==="\r"||r==="	")continue;const l=Ce[r]??Number.MAX_SAFE_INTEGER;switch(r){case"x":case"/":case"+":case"-":default:t.priority>=l&&(t={index:n,priority:l});break}}return t.index}var Ee=C("<form class=calculator><div class=screen><span></span><span></span></div><div class=keypad>");const ee=new Intl.NumberFormat(void 0),Ae=ee.formatToParts(.5).find(e=>e.type==="decimal")?.value??".";function _e(){const[e,t]=F(""),[n,r]=F("0");function l(u){return()=>{t(f=>f===""?`${n().replace(/\.$/,"")} ${u}`:`${f} ${n().replace(/\.$/,"")} ${u}`),r("0")}}function i(u){return()=>{if(n().length!==13){if(n()!=="0"){r(f=>f+u);return}u!=="0"&&r(u)}}}function o(){n().includes(".")||r(u=>`${u}.`)}function s(){r("0"),t("")}function a(){if(n()==="0"&&e()==="")return;if(n().length>1){r(f=>f.substring(0,f.length-1));return}if(n()!=="0"){r("0");return}const u=e().split(" ");u.pop(),r(u.pop()??"0"),t(u.join(" "))}function m(){if(e()===""){r($(R(n())).toString()),t("");return}r($(R(`${e()} ${n()}`)).toString()),t("")}return(()=>{var u=Ee(),f=u.firstChild,S=f.firstChild,I=S.nextSibling,p=f.nextSibling;return c(S,e),c(I,()=>ee.format(Number(n())),null),c(I,()=>n().endsWith(".")?Ae:"",null),c(p,h(g,{type:"number",value:7,get onClick(){return i("7")}}),null),c(p,h(g,{type:"number",value:8,get onClick(){return i("8")}}),null),c(p,h(g,{type:"number",value:9,get onClick(){return i("9")}}),null),c(p,h(g,{type:"delete",onClick:a}),null),c(p,h(g,{type:"number",value:4,get onClick(){return i("4")}}),null),c(p,h(g,{type:"number",value:5,get onClick(){return i("5")}}),null),c(p,h(g,{type:"number",value:6,get onClick(){return i("6")}}),null),c(p,h(g,{type:"operator",operator:"+",get onClick(){return l("+")}}),null),c(p,h(g,{type:"number",value:1,get onClick(){return i("1")}}),null),c(p,h(g,{type:"number",value:2,get onClick(){return i("2")}}),null),c(p,h(g,{type:"number",value:3,get onClick(){return i("3")}}),null),c(p,h(g,{type:"operator",operator:"-",get onClick(){return l("-")}}),null),c(p,h(g,{type:"dot",onClick:o}),null),c(p,h(g,{type:"number",value:0,get onClick(){return i("0")}}),null),c(p,h(g,{type:"operator",operator:"/",get onClick(){return l("/")}}),null),c(p,h(g,{type:"operator",operator:"x",get onClick(){return l("x")}}),null),c(p,h(g,{type:"reset",onClick:s}),null),c(p,h(g,{type:"equals",onClick:m}),null),u})()}var Ie=C("<main><header><h1>calc"),Ne=C('<footer class=attribution>Challenge by <a href="https://www.frontendmentor.io?ref=challenge"target=_blank>Frontend Mentor</a>. Coded by <a href=https://github.com/gustavo-shigueo target=_blank>Gustavo Shigueo</a>.');const Te=()=>[(()=>{var e=Ie(),t=e.firstChild;return t.firstChild,c(t,h(me,{}),null),c(e,h(_e,{}),null),e})(),Ne()],ke=document.getElementById("root");ae(()=>h(Te,{}),ke);
